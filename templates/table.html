<head>
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/air-datepicker@3.4.0/air-datepicker.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/air-datepicker@3.4.0/air-datepicker.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/jquery-datetimepicker/jquery.datetimepicker.css"/ >
    <script src="/static/jquery-datetimepicker/jquery.js"></script>
    <script src="/static/jquery-datetimepicker/build/jquery.datetimepicker.full.min.js"></script>
</head>
<body>
    <dialog open class="dialog">
        <div class="dialog_containter">
            <div class="dialog_top_row">
                <h3 class="dialog_title">Информация о брони</h3>
                <div class="dialog_close_button" onclick="close_modal(this)">x</div>
            </div>
            <ul class="order_info">
                <li> <span>Дата и время начала брони:</span> <input id="modal_start_time" readonly value="31.10.2023 11:00"> </li>
                <li> <span>Дата и время окончания брони:</span> <input id="modal_end_time" readonly> </li>
                <li> <span>Статус:</span> <select> <option value="Оплачен" selected>Оплачен</option> <option value="Ожидает оплаты">Ожидает оплаты</option> </select> </li>
                <li> <span>Клиент:</span> <input type="text" value="Иван Сергеевич Иванов"> </li>
                <li> <span>Телефон:</span> <input type="text" value="8 983 313-70-82"> </li>
                <li> <span>Есть аккаунт в битрикс:</span>  <input type="checkbox"> </li>
                <li> <span>Ссылка на трансялцию:</span> <span> Нажмите сюда </span></li>
            </ul>
            <div class="button_row">
                <button class="change_button" type="button"> 
                    Изменить
                </button>
            </div>
        </div>
    </dialog>
    <section class="timetable">
        <table>
            <tr>
              <th></th>
              {% for day_name in data %}
              <th class="table_head_row"> <span>{{day_name["day"]}}</span> <br> <span>{{day_name["date"]}}</span> </th>
              {% endfor %}
            </tr>
            {% for time in time_range %}
                {% set outer_loop = loop %}
                {% if loop.nextitem is defined %}
                <tr>
                    <td>{{time.time_object.hour}}.{{time.time_object.strftime('%M')}} - {{loop.nextitem.time_object.hour}}.{{loop.nextitem.time_object.strftime('%M')}} </td>
                    
                    {% for cell in data %}
                        {% if not(cell["time"][outer_loop.index0]["hide"]) %}
                        <td class="raspisanie_block {{cell['time'][outer_loop.index0].get_class()}} " {% if cell["time"][outer_loop.index0].get_interval() %} rowspan='{{cell["time"][outer_loop.index0].get_interval()}}' {% endif %} title="Посмотреть заказ">{{cell["time"][outer_loop.index0].get_text()}}</td>
                        {% endif %}
                    {% endfor %}
                </tr>
                {% endif %}
            {% endfor %}
        </table>
        <div class="right_part">
            <div class="calendar_nav">
                <div class="calendar_block">
                    <p>Диапазон дат:</p>
                    <input id="from_calendar">
                </div>
                <div class="cort_choose_block">
                    <p>Корт:</p>
                    <select>
                        <option value="1">Корт №1</option>
                        <option value="2">Корт №2</option>
                        <option value="3">Корт №3</option>
                        <option value="4">Корт №4</option>
                    </select>
                </div>
            </div>

        </div>
    </section>

    <script src="{{ url_for('static', path='/script.js') }}"></script>
</body>