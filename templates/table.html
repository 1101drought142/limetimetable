<head>
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/air-datepicker@3.4.0/air-datepicker.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/air-datepicker@3.4.0/air-datepicker.min.css" rel="stylesheet">
</head>
<body>
    <dialog class="dialog">
        <div class="dialog_containter">
            <div class="dialog_top_row">
                <h3 class="dialog_title">Информация о брони</h3>
                <div class="close_button">x</div>
            </div>
            <ul class="order_info">
                <li> <span>Дата и время начала брони:</span> <span><input type="date" value="2023-10-30 9.00"></span> </li>
                <li> <span>Дата и время окончания брони:</span> <span>2023-10-30 11.30</span> </li>
                <li> <span>Статус:</span> <span>Оплачен</span> </li>
                <li> <span>Клиент:</span> <span>Иван Сергеевич Иванов</span> </li>
                <li> <span>Есть аккаунт в битрикс:</span> <span>Да</span></li>
                <li> <span>Ссылка на трансялцию:</span> <span> Нажмите сюда </span></li>
            </ul>
            <div class="button_row">
                <button class="change_button" type="button"> 
                    Изменить
                </button>
            </div>
        </div>
    </dialog>
    <section class="timetable">
        <table>
            <tr>
              <th></th>
              {% for day_name in data %}
              <th class="table_head_row"> <span>{{day_name["day"]}}</span> <br> <span>{{day_name["date"]}}</span> </th>
              {% endfor %}
            </tr>
            {% for time in time_range %}
                {% set outer_loop = loop %}
                {% if loop.nextitem is defined %}
                <tr>
                    <td>{{time.time_object.hour}}.{{time.time_object.strftime('%M')}} - {{loop.nextitem.time_object.hour}}.{{loop.nextitem.time_object.strftime('%M')}} </td>
                    
                    {% for cell in data %}
                        {% if not(cell["time"][outer_loop.index0]["hide"]) %}
                        <td class="raspisanie_block {{cell['time'][outer_loop.index0].get_class()}} " {% if cell["time"][outer_loop.index0].get_interval() %} rowspan='{{cell["time"][outer_loop.index0].get_interval()}}' {% endif %} title="Посмотреть заказ">{{cell["time"][outer_loop.index0].get_text()}}</td>
                        {% endif %}
                    {% endfor %}
                </tr>
                {% endif %}
            {% endfor %}
        </table>
        <div class="right_part">
            <div class="calendar_nav">
                <div class="calendar_block">
                    <p>Дата от:</p>
                    <div id="from_calendar"></div>
                </div>
                <div class="calendar_block">
                    <p>Дата до:</p>
                    <div id="to_calendar"></div>
                </div>
                <div class="cort_choose_block">
                    <p>Корт:</p>
                    <select>
                        <option value="1">Корт №1</option>
                        <option value="2">Корт №2</option>
                        <option value="3">Корт №3</option>
                        <option value="4">Корт №4</option>
                    </select>
                </div>
            </div>

        </div>
    </section>

    <script src="{{ url_for('static', path='/script.js') }}"></script>
</body>